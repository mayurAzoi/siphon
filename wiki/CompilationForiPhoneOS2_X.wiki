#summary Compilation guide for iPhone OS 2.X.

= Introduction =

This article describes the steps to generate pjsip on Mac OS X 10.5.5


= Details =

==Get pjsip source code==
Get [http://pjsip.org PjSIP] from subversion repository:

{{{
svn checkout http://svn.pjsip.org/repos/pjproject/trunk pjproject
}}}


==Modify some files==
===Media device for iPhone===

===aconfigure.ac===

In _aconfigure.ac_ file add the lines below displayed with '+'. Of course copy without '+' ;-)

{{{
 if test "$enable_sound" = "no"; then
   true;
 else
  case $target in
+   arm-apple-darwin*)
+        LIBS="$LIBS -framework CoreAudio -framework CoreFoundation -framework AudioToolbox"
+        ac_pjmedia_snd=iphone
+        AC_MSG_RESULT([Checking sound device backend... AudioQueue])
+        ;;
   *darwin*)
 	LIBS="$LIBS -framework CoreAudio -framework CoreServices -framework AudioUnit -framework AudioToolbox"
 	if test "`uname -r`" = "6.8"; then
}}}

===build/rules.mak===
In _rules.mak_ modify, remove lines with '-' and add lines with '+':
{{{
 $(LIB): $(OBJDIRS) $(OBJS) $($(APP)_EXTRA_DEP)
 	if test ! -d $(LIBDIR); then $(subst @@,$(subst /,$(HOST_PSEP),$(LIBDIR)),$(HOST_MKDIR)); fi
-	$(AR) $(LIB) $(OBJS)
-	$(RANLIB) $(LIB)
+	$(RANLIB) -static -o $(LIB) $(OBJS)
}}}


==Configuration==

==Compilation==